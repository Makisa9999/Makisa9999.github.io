<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST PAGE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>
<body>
    <div id = "landing" class="container">
		<h2>Login</h2>
		<a href = "#modal-login" class="btn orange modal-trigger">LOGIN</a>
		<a href="#modal-register" class="btn orange modal-trigger">REGISTER</a>
	</div>
	<div id="wrong-password" class="container" style="display: none;">
		<h4 class="red-text">Wrong password!</h4>
	</div>
	<div class="container" id="home" style="display: none;">
		<h3>Welcome</h3>
		<form id="logout-form">
			<button class="btn yellow darken-2 z-depth-0" id="logout-button">Logout</button>
		</form>
	</div>
	<div id="modal-login" class="modal">
  		<div class="modal-content">
	    	<h4>Login</h4><br />
	    	<form id="login-form">
	      		<div class="input-field">
	        		<input type="email" id="login-email" autocomplete="" required/>
	        		<label for="login-email">Email Address</label>
	      		</div>
	      		<div class="input-field">
	        		<input type="password" id="login-password" autocomplete="" required />
	        		<label for="login-password">Choose password</label>
	      		</div>
				<button class="btn yellow darken-2 z-depth-0" id="myButton">Login</button>
	    	</form>
  		</div>
	  </div>
	  <div class="modal" id="modal-register">
		  <div class="modal-content">
			  <h4>Register</h4><br />
			  <form id="register-form">
				  <div class="input-field">
					  <input type="email" id="register-email" autocomplete="" required>
					  <label for="register-email">Email Address</label>
				  </div>
				  <div class="input-field">
					  <input type="email" id="confirm-email" autocomplete="" required>
					  <label for="confirm-email">Confirm Email Address</label>
				  </div>
				  <div class="input-field">
					  <input type="password" id="register-password" autocomplete="" required>
					  <label for="register-password">Enter Password</label>
				  </div>
				  <div class="input-field">
					  <input type="password" id="confirm-password" autocomplete="" required>
					  <label for="confirm-password">Confirm Password</label>
				  </div>
				  <button class="btn yellow darken-2 z-depth-0">Register</button>
			  </form>
		  </div>
	  </div>


 	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js">
	</script>
	<script src="login_fake_class2.js"></script>
  	<script>
		var landingPage = document.getElementById('landing')
		var homePage = document.getElementById('home')
		var wrongPass = document.getElementById('wrong-password')

		$(document).ready(function(){
      		$('.modal').modal();
		});
		   
		$('#login-form').submit(function (e) {
			e.preventDefault()
			console.log("Submit")
			u = document.getElementById('login-email').value
			p = document.getElementById('login-password').value
			console.log(u)
			console.log(p)
			result = checkLogin(u,p)
			console.log(result)
			if (result === true) {
				currU = u
				landingPage.style.display = "none";
				homePage.style.display = "block";
				wrongPass.style.display = "none"
			} else {
				landingPage.style.display = "block"
				homePage.style.display = "none"
				wrongPass.style.display = "block"
				console.log("Wrong Password")
			}
			$('#modal-login').modal("close");
		  })
		$('#logout-form').submit(function (e) {
			e.preventDefault()
			console.log('Logging out')
			landingPage.style.display = "block"
			homePage.style.display = "none"
			wrongPass.style.display = "none"
		})
		$('#register-form').submit(function (e) {
			e.preventDefault()
			console.log("Registering")
			var email1 = document.getElementById('register-email').value
			var email2 = document.getElementById('confirm-email').value
			var password1 = document.getElementById('register-password').value
			var password2 = document.getElementById('confirm-password').value
			var emailTorF = false
			var passwordTorF = false
			if (email1 === email2) {
				emailTorF = true
				console.log(emailTorF)
			} else {
				emailTorF = false
				console.log(emailTorF)
			}
			if (password1 === password2) {
				passwordTorF = true
				console.log(passwordTorF)
			} else {
				passwordTorF = false
				console.log(passwordTorF)
			}
			if (emailTorF === true && passwordTorF === true) {
				//Allow to register
				//Make a new login account
				//Add it to json file
				
			}
		})
   	</script>
    
</body>
</html>
